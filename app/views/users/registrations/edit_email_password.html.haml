%div{class:"row"}
  %div{class:"small-9 large-centered columns"}
    %h2 Passwort oder E-Mail ändern

= form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put, class:"custom" }) do |f|
  = devise_error_messages!

  %div{class:"row"}
    %div{class:"large-12 columns"}
      = f.label :current_password, 'Aktuelles Passwort'
      = f.password_field :current_password, required: true

  %div{class:"row"}
    %div{class:"large-12 columns"}
      = f.label :email, 'E-Mail'
      = f.email_field :email, autofocus: true

  - if devise_mapping.confirmable? && resource.pending_reconfirmation?
    %div{class:"row"}
      %div{class:"large-12 columns"}
        E-Mail muss noch bestätigt werden:
        = resource.unconfirmed_email 

  %div{class:"row"}
    %div{class:"large-12 columns"}
      = f.label :password, 'Neues Passwort (nur angeben wenn Passwort geändert werden soll)'
      = f.password_field :password

  %div{class:"row"}
    %div{class:"large-12 columns"}
      = f.label :password_confirmation, 'Wiederholung neues Passwort'
      = f.password_field :password_confirmation

  %div{class:"row"}
    %div{class:"small-6 small-centered columns"}
      = f.submit "Update", class: "button expand radius success"